import{r as i,f as n,h as t,H as d,c as r,w as a,a as o,d as s}from"./p-e3de215b.js";import{g as e,c as g}from"./p-437e6017.js";import{s as l}from"./p-111520a0.js";const p={xs:"(min-width: 0px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"},h=i=>void 0===i||""===i||!!window.matchMedia&&window.matchMedia(p[i]).matches,c=window,m=!!(c.CSS&&c.CSS.supports&&c.CSS.supports("--a: 0")),u=["","xs","sm","md","lg","xl"],v=class{constructor(n){i(this,n)}onResize(){n(this)}getColumns(i){let n;for(const t of u){const d=h(t),r=this[i+t.charAt(0).toUpperCase()+t.slice(1)];d&&void 0!==r&&(n=r)}return n}calculateSize(){const i=this.getColumns("size");if(!i||""===i)return;const n="auto"===i?"auto":m?`calc(calc(${i} / var(--ion-grid-columns, 12)) * 100%)`:i/12*100+"%";return{flex:"0 0 "+n,width:""+n,"max-width":""+n}}calculatePosition(i,n){const t=this.getColumns(i);if(t)return{[n]:m?`calc(calc(${t} / var(--ion-grid-columns, 12)) * 100%)`:t>0&&t<12?t/12*100+"%":"auto"}}calculateOffset(i){return this.calculatePosition("offset",i?"margin-right":"margin-left")}calculatePull(i){return this.calculatePosition("pull",i?"left":"right")}calculatePush(i){return this.calculatePosition("push",i?"right":"left")}render(){const i="rtl"===document.dir,n=e(this);return t(d,{class:{[n]:!0},style:Object.assign(Object.assign(Object.assign(Object.assign({},this.calculateOffset(i)),this.calculatePull(i)),this.calculatePush(i)),this.calculateSize())},t("slot",null))}};v.style=":host{padding-left:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-right:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;box-sizing:border-box;position:relative;flex-basis:0;flex-grow:1;width:100%;max-width:100%;min-height:1px}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px))}}@media (min-width: 576px){:host{padding-left:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-right:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px))}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px))}}}@media (min-width: 768px){:host{padding-left:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-right:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px))}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px))}}}@media (min-width: 992px){:host{padding-left:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-right:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px))}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px))}}}@media (min-width: 1200px){:host{padding-left:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-right:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px))}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px))}}}";const x=class{constructor(n){i(this,n),this.fixed=!1}render(){const i=e(this);return t(d,{class:{[i]:!0,"grid-fixed":this.fixed}},t("slot",null))}};x.style=":host{padding-left:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-right:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));margin-left:auto;margin-right:auto;display:block;flex:1}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px))}}@media (min-width: 576px){:host{padding-left:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-right:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px))}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px))}}}@media (min-width: 768px){:host{padding-left:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-right:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px))}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px))}}}@media (min-width: 992px){:host{padding-left:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-right:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px))}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px))}}}@media (min-width: 1200px){:host{padding-left:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-right:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px))}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px))}}}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){:host{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}:host(.grid-fixed){width:var(--ion-grid-width-xs, var(--ion-grid-width, 100%));max-width:100%}@media (min-width: 576px){:host(.grid-fixed){width:var(--ion-grid-width-sm, var(--ion-grid-width, 540px))}}@media (min-width: 768px){:host(.grid-fixed){width:var(--ion-grid-width-md, var(--ion-grid-width, 720px))}}@media (min-width: 992px){:host(.grid-fixed){width:var(--ion-grid-width-lg, var(--ion-grid-width, 960px))}}@media (min-width: 1200px){:host(.grid-fixed){width:var(--ion-grid-width-xl, var(--ion-grid-width, 1140px))}}:host(.ion-no-padding){--ion-grid-column-padding:0;--ion-grid-column-padding-xs:0;--ion-grid-column-padding-sm:0;--ion-grid-column-padding-md:0;--ion-grid-column-padding-lg:0;--ion-grid-column-padding-xl:0}";const f=class{constructor(n){i(this,n),this.ionInfinite=r(this,"ionInfinite",7),this.thrPx=0,this.thrPc=0,this.didFire=!1,this.isBusy=!1,this.isLoading=!1,this.threshold="15%",this.disabled=!1,this.position="bottom",this.onScroll=()=>{const i=this.scrollEl;if(!i||!this.canStart())return 1;const n=this.el.offsetHeight;if(0===n)return 2;const t=i.scrollTop,d=i.offsetHeight,r=0!==this.thrPc?d*this.thrPc:this.thrPx;if(("bottom"===this.position?i.scrollHeight-n-t-r-d:t-n-r)<0){if(!this.didFire)return this.isLoading=!0,this.didFire=!0,this.ionInfinite.emit(),3}else this.didFire=!1;return 4}}thresholdChanged(){const i=this.threshold;i.lastIndexOf("%")>-1?(this.thrPx=0,this.thrPc=parseFloat(i)/100):(this.thrPx=parseFloat(i),this.thrPc=0)}disabledChanged(){const i=this.disabled;i&&(this.isLoading=!1,this.isBusy=!1),this.enableScrollEvents(!i)}async connectedCallback(){const i=this.el.closest("ion-content");i?(this.scrollEl=await i.getScrollElement(),this.thresholdChanged(),this.disabledChanged(),"top"===this.position&&a((()=>{this.scrollEl&&(this.scrollEl.scrollTop=this.scrollEl.scrollHeight-this.scrollEl.clientHeight)}))):console.error("<ion-infinite-scroll> must be used inside an <ion-content>")}disconnectedCallback(){this.enableScrollEvents(!1),this.scrollEl=void 0}async complete(){const i=this.scrollEl;if(this.isLoading&&i&&(this.isLoading=!1,"top"===this.position)){this.isBusy=!0;const n=i.scrollHeight-i.scrollTop;requestAnimationFrame((()=>{o((()=>{const t=i.scrollHeight-n;requestAnimationFrame((()=>{a((()=>{i.scrollTop=t,this.isBusy=!1}))}))}))}))}}canStart(){return!(this.disabled||this.isBusy||!this.scrollEl||this.isLoading)}enableScrollEvents(i){this.scrollEl&&(i?this.scrollEl.addEventListener("scroll",this.onScroll):this.scrollEl.removeEventListener("scroll",this.onScroll))}render(){const i=e(this);return t(d,{class:{[i]:!0,"infinite-scroll-loading":this.isLoading,"infinite-scroll-enabled":!this.disabled}})}get el(){return s(this)}static get watchers(){return{threshold:["thresholdChanged"],disabled:["disabledChanged"]}}};f.style="ion-infinite-scroll{display:none;width:100%}.infinite-scroll-enabled{display:block}";const w=class{constructor(n){i(this,n)}componentDidLoad(){if(void 0===this.loadingSpinner){const i=e(this);this.loadingSpinner=g.get("infiniteLoadingSpinner",g.get("spinner","ios"===i?"lines":"crescent"))}}render(){const i=e(this);return t(d,{class:{[i]:!0,["infinite-scroll-content-"+i]:!0}},t("div",{class:"infinite-loading"},this.loadingSpinner&&t("div",{class:"infinite-loading-spinner"},t("ion-spinner",{name:this.loadingSpinner})),this.loadingText&&t("div",{class:"infinite-loading-text",innerHTML:l(this.loadingText)})))}};w.style={ios:"ion-infinite-scroll-content{display:flex;flex-direction:column;justify-content:center;min-height:84px;text-align:center;user-select:none}.infinite-loading{margin-left:0;margin-right:0;margin-top:0;margin-bottom:32px;display:none;width:100%}.infinite-loading-text{margin-left:32px;margin-right:32px;margin-top:4px;margin-bottom:0}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){.infinite-loading-text{margin-left:unset;margin-right:unset;-webkit-margin-start:32px;margin-inline-start:32px;-webkit-margin-end:32px;margin-inline-end:32px}}.infinite-scroll-loading ion-infinite-scroll-content>.infinite-loading{display:block}.infinite-scroll-content-ios .infinite-loading-text{color:var(--ion-color-step-600, #666666)}.infinite-scroll-content-ios .infinite-loading-spinner .spinner-lines-ios line,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-lines-small-ios line,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-crescent circle{stroke:var(--ion-color-step-600, #666666)}.infinite-scroll-content-ios .infinite-loading-spinner .spinner-bubbles circle,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-circles circle,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-dots circle{fill:var(--ion-color-step-600, #666666)}",md:"ion-infinite-scroll-content{display:flex;flex-direction:column;justify-content:center;min-height:84px;text-align:center;user-select:none}.infinite-loading{margin-left:0;margin-right:0;margin-top:0;margin-bottom:32px;display:none;width:100%}.infinite-loading-text{margin-left:32px;margin-right:32px;margin-top:4px;margin-bottom:0}@supports (margin-inline-start: 0) or (-webkit-margin-start: 0){.infinite-loading-text{margin-left:unset;margin-right:unset;-webkit-margin-start:32px;margin-inline-start:32px;-webkit-margin-end:32px;margin-inline-end:32px}}.infinite-scroll-loading ion-infinite-scroll-content>.infinite-loading{display:block}.infinite-scroll-content-md .infinite-loading-text{color:var(--ion-color-step-600, #666666)}.infinite-scroll-content-md .infinite-loading-spinner .spinner-lines-md line,.infinite-scroll-content-md .infinite-loading-spinner .spinner-lines-small-md line,.infinite-scroll-content-md .infinite-loading-spinner .spinner-crescent circle{stroke:var(--ion-color-step-600, #666666)}.infinite-scroll-content-md .infinite-loading-spinner .spinner-bubbles circle,.infinite-scroll-content-md .infinite-loading-spinner .spinner-circles circle,.infinite-scroll-content-md .infinite-loading-spinner .spinner-dots circle{fill:var(--ion-color-step-600, #666666)}"};const b=class{constructor(n){i(this,n)}render(){return t(d,{class:e(this)},t("slot",null))}};b.style=":host{display:flex;flex-wrap:wrap}";const k=(i,n)=>{const t=y(i,n);return t&&i.ownerDocument?i.ownerDocument.importNode(t.content,!0).children[0]:null},y=(i,n)=>{switch(n){case"item":return i.querySelector("template:not([name])");case"header":return i.querySelector("template[name=header]");case"footer":return i.querySelector("template[name=footer]")}},C=(i,n,t,d,r,a,o,s,e,g,l,p)=>{const h=[],c=p+l;for(let p=l;p<c;p++){const l=i[p];if(r){const n=r(l,p,i);null!=n&&h.push({i:g++,type:"header",value:n,index:p,height:t?t(n,p):o,reads:t?0:2,visible:!!t})}if(h.push({i:g++,type:"item",value:l,index:p,height:n?n(l,p):e,reads:n?0:2,visible:!!n}),a){const n=a(l,p,i);null!=n&&h.push({i:g++,type:"footer",value:n,index:p,height:d?d(n,p):s,reads:d?0:2,visible:!!d})}}return h},j=class{constructor(n){i(this,n),this.range={offset:0,length:0},this.viewportHeight=0,this.cells=[],this.virtualDom=[],this.isEnabled=!1,this.viewportOffset=0,this.currentScrollTop=0,this.indexDirty=0,this.lastItemLen=0,this.totalHeight=0,this.approxItemHeight=45,this.approxHeaderHeight=30,this.approxFooterHeight=30,this.onScroll=()=>{this.updateVirtualScroll()}}itemsChanged(){this.calcCells(),this.updateVirtualScroll()}async connectedCallback(){const i=this.el.closest("ion-content");i?(this.scrollEl=await i.getScrollElement(),this.contentEl=i,this.calcCells(),this.updateState()):console.error("<ion-virtual-scroll> must be used inside an <ion-content>")}componentDidUpdate(){this.updateState()}disconnectedCallback(){this.scrollEl=void 0}onResize(){this.calcCells(),this.updateVirtualScroll()}positionForItem(i){return Promise.resolve(((i,n,t)=>{const d=n.find((n=>"item"===n.type&&n.index===i));return d?t[d.i]:-1})(i,this.cells,this.getHeightIndex()))}async checkRange(i,n=-1){if(!this.items)return;const t=-1===n?this.items.length-i:n,d=((i,n)=>0===n?0:n===(i.length>0?i[i.length-1].index:0)+1?i.length:i.findIndex((i=>i.index===n)))(this.cells,i),r=C(this.items,this.itemHeight,this.headerHeight,this.footerHeight,this.headerFn,this.footerFn,this.approxHeaderHeight,this.approxFooterHeight,this.approxItemHeight,d,i,t);this.cells=((i,n,t)=>{if(0===t&&n.length>=i.length)return n;for(let d=0;d<n.length;d++)i[d+t]=n[d];return i})(this.cells,r,d),this.lastItemLen=this.items.length,this.indexDirty=Math.max(i-1,0),this.scheduleUpdate()}async checkEnd(){this.items&&this.checkRange(this.lastItemLen)}updateVirtualScroll(){this.isEnabled&&this.scrollEl&&(this.timerUpdate&&(clearTimeout(this.timerUpdate),this.timerUpdate=void 0),o(this.readVS.bind(this)),a(this.writeVS.bind(this)))}readVS(){const{contentEl:i,scrollEl:n,el:t}=this;let d=0,r=t;for(;r&&r!==i;)d+=r.offsetTop,r=r.offsetParent;this.viewportOffset=d,n&&(this.viewportHeight=n.offsetHeight,this.currentScrollTop=n.scrollTop)}writeVS(){const i=this.indexDirty,t=(a=this.currentScrollTop-this.viewportOffset,o=this.viewportHeight,{top:Math.max(a-100,0),bottom:a+o+100}),d=this.getHeightIndex(),r=((i,n)=>{const t=n.top,d=n.bottom;let r=0;for(;r<i.length&&!(i[r]>t);r++);const a=Math.max(r-2-1,0);for(;r<i.length&&!(i[r]>=d);r++);return{offset:a,length:Math.min(r+2,i.length)-a}})(d,t);var a,o;((i,n,t)=>i<=t.offset+t.length||n.offset!==t.offset||n.length!==t.length)(i,this.range,r)&&(this.range=r,((i,n,t,d)=>{for(const n of i)n.change=0,n.d=!0;const r=[],a=d.offset+d.length;for(let o=d.offset;o<a;o++){const d=t[o],a=i.find((i=>i.d&&i.cell===d));if(a){const i=n[o];i!==a.top&&(a.top=i,a.change=1),a.d=!1}else r.push(d)}const o=i.filter((i=>i.d));for(const t of r){const d=o.find((i=>i.d&&i.cell.type===t.type)),r=t.i;d?(d.d=!1,d.change=2,d.cell=t,d.top=n[r]):i.push({d:!1,cell:t,visible:!0,change:2,top:n[r]})}i.filter((i=>i.d&&-9999!==i.top)).forEach((i=>{i.change=1,i.top=-9999}))})(this.virtualDom,d,this.cells,r),this.nodeRender?((i,n,t,d)=>{const r=Array.from(i.children).filter((i=>"TEMPLATE"!==i.tagName)),a=r.length;let o;for(let s=0;s<t.length;s++){const e=t[s],g=e.cell;if(2===e.change){if(s<a)o=r[s],n(o,g,s);else{const t=k(i,g.type);o=n(t,g,s)||t,o.classList.add("virtual-item"),i.appendChild(o)}o.$ionCell=g}else o=r[s];0!==e.change&&(o.style.transform=`translate3d(0,${e.top}px,0)`);const l=g.visible;e.visible!==l&&(l?o.classList.remove("virtual-loading"):o.classList.add("virtual-loading"),e.visible=l),g.reads>0&&(d(g,o),g.reads--)}})(this.el,this.nodeRender,this.virtualDom,this.updateCellHeight.bind(this)):this.domRender?this.domRender(this.virtualDom):this.renderItem&&n(this))}updateCellHeight(i,n){const t=()=>{if(n.$ionCell===i){const t=window.getComputedStyle(n),d=n.offsetHeight+parseFloat(t.getPropertyValue("margin-bottom"));this.setCellHeight(i,d)}};n&&n.componentOnReady?n.componentOnReady().then(t):t()}setCellHeight(i,n){const t=i.i;i===this.cells[t]&&(i.height===n&&!0===i.visible||(i.visible=!0,i.height=n,this.indexDirty=Math.min(this.indexDirty,t),this.scheduleUpdate()))}scheduleUpdate(){clearTimeout(this.timerUpdate),this.timerUpdate=setTimeout((()=>this.updateVirtualScroll()),100)}updateState(){const i=!(!this.scrollEl||!this.cells);i!==this.isEnabled&&(this.enableScrollEvents(i),i&&this.updateVirtualScroll())}calcCells(){this.items&&(this.lastItemLen=this.items.length,this.cells=C(this.items,this.itemHeight,this.headerHeight,this.footerHeight,this.headerFn,this.footerFn,this.approxHeaderHeight,this.approxFooterHeight,this.approxItemHeight,0,0,this.lastItemLen),this.indexDirty=0)}getHeightIndex(){return this.indexDirty!==1/0&&this.calcHeightIndex(this.indexDirty),this.heightIndex}calcHeightIndex(i=0){this.heightIndex=((i,n)=>{if(!i)return new Uint32Array(n);if(i.length===n)return i;if(n>i.length){const t=new Uint32Array(n);return t.set(i),t}return i.subarray(0,n)})(this.heightIndex,this.cells.length),this.totalHeight=((i,n,t)=>{let d=i[t];for(let r=t;r<i.length;r++)i[r]=d,d+=n[r].height;return d})(this.heightIndex,this.cells,i),this.indexDirty=1/0}enableScrollEvents(i){this.rmEvent&&(this.rmEvent(),this.rmEvent=void 0);const n=this.scrollEl;n&&(this.isEnabled=i,n.addEventListener("scroll",this.onScroll),this.rmEvent=()=>{n.removeEventListener("scroll",this.onScroll)})}renderVirtualNode(i){const{type:n,value:t,index:d}=i.cell;switch(n){case"item":return this.renderItem(t,d);case"header":return this.renderHeader(t,d);case"footer":return this.renderFooter(t,d)}}render(){return t(d,{style:{height:this.totalHeight+"px"}},this.renderItem&&t(O,{dom:this.virtualDom},this.virtualDom.map((i=>this.renderVirtualNode(i)))))}get el(){return s(this)}static get watchers(){return{itemHeight:["itemsChanged"],headerHeight:["itemsChanged"],footerHeight:["itemsChanged"],items:["itemsChanged"]}}},O=({dom:i},n,t)=>t.map(n,((n,t)=>{const d=i[t],r=n.vattrs||{};let a=r.class||"";return a+="virtual-item ",d.visible||(a+="virtual-loading"),Object.assign(Object.assign({},n),{vattrs:Object.assign(Object.assign({},r),{class:a,style:Object.assign(Object.assign({},r.style),{transform:`translate3d(0,${d.top}px,0)`})})})}));j.style="ion-virtual-scroll{display:block;position:relative;width:100%;contain:strict;user-select:none}ion-virtual-scroll>.virtual-loading{opacity:0}ion-virtual-scroll>.virtual-item{position:absolute !important;top:0 !important;right:0 !important;left:0 !important;transition-duration:0ms;will-change:transform}";export{v as ion_col,x as ion_grid,f as ion_infinite_scroll,w as ion_infinite_scroll_content,b as ion_row,j as ion_virtual_scroll}